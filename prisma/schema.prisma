generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model bill {
  billId      Int           @id @default(autoincrement())
  timeIn      String?       @db.VarChar(255)
  timeOut     String?       @db.VarChar(255)
  total       Int?
  status      String?       @db.VarChar(255)
  billNote    String?       @db.VarChar(255)
  isDelete    Boolean?      @default(false)
  tableId     Int?
  shopId      Int?
  staffName   String?       @db.VarChar(255)
  staffId     Int?
  tables      tables?       @relation(fields: [tableId], references: [tableId], onDelete: NoAction, onUpdate: NoAction, map: "bill_ibfk_1")
  coffeeShop  coffeeShop?   @relation(fields: [shopId], references: [shopId], onDelete: NoAction, onUpdate: NoAction, map: "bill_ibfk_2")
  staff       staff?        @relation(fields: [staffId], references: [staffId], onDelete: NoAction, onUpdate: NoAction, map: "bill_ibfk_3")
  orderDetail orderDetail[]

  @@index([shopId], map: "shopId")
  @@index([staffId], map: "staffId")
  @@index([tableId], map: "tableId")
}

model category {
  categoryId    Int         @id @default(autoincrement())
  categoryName  String?     @db.VarChar(255)
  categoryNameE String?     @db.VarChar(255)
  categoryNameG String?     @db.VarChar(255)
  categoryImage String?     @db.Text
  categoryNote  String?     @db.VarChar(255)
  isDelete      Boolean?    @default(false)
  shopId        Int?
  coffeeShop    coffeeShop? @relation(fields: [shopId], references: [shopId], onDelete: NoAction, onUpdate: NoAction, map: "category_ibfk_1")
  menuItem      menuItem[]

  @@index([shopId], map: "shopId")
}

model coffeeShop {
  shopId      Int           @id @default(autoincrement())
  shopName    String?       @db.VarChar(255)
  shopAddress String?       @db.VarChar(255)
  shopPhone   String?       @db.VarChar(255)
  shopPass    String?       @db.VarChar(255)
  shopImage   String?       @db.Text
  isDelete    Boolean?      @default(false)
  bill        bill[]
  category    category[]
  menuItem    menuItem[]
  orderDetail orderDetail[]
  staff       staff[]
  tables      tables[]
}

model menuItem {
  menuId       Int           @id @default(autoincrement())
  menuName     String?       @db.VarChar(255)
  menuNameE    String?       @db.VarChar(255)
  menuNameG    String?       @db.VarChar(255)
  menuImage    String?       @db.Text
  menuPrice    Int?
  menuDiscount Int?          @default(0)
  menuNote     String?       @db.VarChar(255)
  isDelete     Boolean?      @default(false)
  categoryId   Int?
  shopId       Int?
  category     category?     @relation(fields: [categoryId], references: [categoryId], onDelete: NoAction, onUpdate: NoAction, map: "menuItem_ibfk_1")
  coffeeShop   coffeeShop?   @relation(fields: [shopId], references: [shopId], onDelete: NoAction, onUpdate: NoAction, map: "menuItem_ibfk_2")
  orderDetail  orderDetail[]

  @@index([categoryId], map: "categoryId")
  @@index([shopId], map: "shopId")
}

model orderDetail {
  orderId    Int         @id @default(autoincrement())
  name       String?     @db.VarChar(255)
  quantity   Int?
  price      Int?
  isDelete   Boolean?    @default(false)
  billId     Int?
  menuId     Int?
  shopId     Int?
  staffName  String?     @db.VarChar(255)
  staffId    Int?
  bill       bill?       @relation(fields: [billId], references: [billId], onDelete: NoAction, onUpdate: NoAction, map: "orderDetail_ibfk_1")
  menuItem   menuItem?   @relation(fields: [menuId], references: [menuId], onDelete: NoAction, onUpdate: NoAction, map: "orderDetail_ibfk_2")
  coffeeShop coffeeShop? @relation(fields: [shopId], references: [shopId], onDelete: NoAction, onUpdate: NoAction, map: "orderDetail_ibfk_3")
  staff      staff?      @relation(fields: [staffId], references: [staffId], onDelete: NoAction, onUpdate: NoAction, map: "orderDetail_ibfk_4")

  @@index([billId], map: "billId")
  @@index([menuId], map: "menuId")
  @@index([shopId], map: "shopId")
  @@index([staffId], map: "staffId")
}

model staff {
  staffId        Int           @id @default(autoincrement())
  staffName      String?       @db.VarChar(255)
  staffImage     String?       @db.Text
  staffPass      String?       @db.VarChar(255)
  staffPhone     String?       @db.VarChar(255)
  staffPosition  String?       @db.VarChar(255)
  staffAddress   String?       @db.VarChar(255)
  staffDateStart DateTime?     @db.DateTime(0)
  staffRole      Json?
  staffNote      String?       @db.VarChar(255)
  staffStatus    String?       @db.VarChar(255)
  isDelete       Boolean?      @default(false)
  shopId         Int?
  bill           bill[]
  orderDetail    orderDetail[]
  coffeeShop     coffeeShop?   @relation(fields: [shopId], references: [shopId], onDelete: NoAction, onUpdate: NoAction, map: "staff_ibfk_1")

  @@index([shopId], map: "shopId")
}

model tables {
  tableId    Int         @id @default(autoincrement())
  tableName  String?     @db.VarChar(255)
  tableNameE String?     @db.VarChar(255)
  tableNameG String?     @db.VarChar(255)
  tableNote  String?     @db.VarChar(255)
  isDelete   Boolean?    @default(false)
  shopId     Int?
  bill       bill[]
  coffeeShop coffeeShop? @relation(fields: [shopId], references: [shopId], onDelete: NoAction, onUpdate: NoAction, map: "tables_ibfk_1")

  @@index([shopId], map: "shopId")
}
